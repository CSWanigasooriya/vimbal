<mat-card class="mat-elevation-z4 hover:drop-shadow-lg" matRipple>
  <mat-card-header class="truncate">
    <img matCardAvatar src="https://picsum.photos/200" />
    <mat-card-title-group>
      <mat-card-title>{{ formatedFileData?.title }}</mat-card-title>
      <mat-card-subtitle>
        <span
          *ngFor="
            let author of decodeData(formatedFileData?.authors) | splitBy: ',';
            let i = index;
            let last = last
          "
        >
          {{ author }}<span *ngIf="!last">, </span>
        </span>
      </mat-card-subtitle>
    </mat-card-title-group>
    <div fxFlex></div>
    <div fxLayoutAlign="center none">
      <button mat-icon-button>
        <mat-icon>more_vert</mat-icon>
      </button>
    </div>
  </mat-card-header>
  <mat-card-content>
    <div class="container px-2 py-2">
      <div class="columns-1">
        <p>ID: {{ formatedFileData?.id }}</p>
        <p>Title: {{ formatedFileData?.title }}</p>
        <p>Authors: {{ decodeData(formatedFileData?.authors) }}</p>
        <p>Tip: {{ getTipAmount(formatedFileData?.tipAmount) }}</p>
        <p>Author Address: {{ formatedFileData?.owner }}</p>

        <mat-chip-list>
          <mat-chip
            *ngFor="
              let keyword of decodeData(formatedFileData?.keywords)
                | splitBy: ','
            "
            selected
            >{{ keyword }}
          </mat-chip>
        </mat-chip-list>
      </div>
    </div>

    <mat-divider></mat-divider>
  </mat-card-content>
  <mat-card-actions fxLayout="row" fxLayoutAlign="space-between center">
    <div>
      <button
        *ngIf="(isOwner() | async) === false"
        mat-stroked-button
        color="primary"
        (click)="tipAuthor(formatedFileData?.id)"
      >
        Tip
        <mat-icon class="action-icon">trending_up</mat-icon>
      </button>
      <button
        mat-stroked-button
        color="primary"
        [routerLink]="['/review', formatedFileData?.id]"
      >
        Reviews
        <mat-icon class="action-icon">rate_review</mat-icon>
      </button>
    </div>

    <button
      mat-stroked-button
      color="primary"
      [routerLink]="['/preview', formatedFileData.id]"
    >
      View
    </button>
  </mat-card-actions>
  <mat-card-footer>
    <mat-progress-bar
      mode="determinate"
      [value]="100"
      color="primary"
    ></mat-progress-bar>
  </mat-card-footer>
</mat-card>
